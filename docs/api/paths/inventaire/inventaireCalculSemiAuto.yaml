post:
  summary: Calcul semi automatique
  deprecated: false
  description: >-
    Calcul de l'estimation du nombre de places requises à partir d'entrées
    manuelles
  tags: ['Inventaire']
  parameters: []
  requestBody:
    content:
      application/json:
        schema:
          type: array
          items:
            $ref: '../../components/schemas.yaml#/entree_calcul_inventaire'
        example:
          - g_no_lot: 1 905 608
            cubf: 1000
            id_reg_stat: 15
            id_er: 1
            unite: 2
            valeur: 15
          - g_no_lot: 1 905 608
            cubf: 1000
            id_reg_stat: 15
            id_er: 1
            unite: 1
            valeur: 3
          - g_no_lot: 1 905 609
            cubf: 5610
            id_reg_stat: 18
            id_er: 1
            unite: 4
            valeur: 2580.3
    required: true
  responses:
    '200':
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                description: Succès échec de la requête
              data:
                type: array
                items:
                  type: object
                  properties:
                    g_no_lot:
                      type: string
                      description: Identifiant du lot cadastral
                    n_places_min:
                      type: number
                      description: Nombre de places minimum selon le code d'urbanisme
                    n_places_max:
                      type: number
                      description: Nombre de places maxium selon le code d'urbanisme
                    n_places_estime:
                      type: number
                      description: >-
                        Nombre de places estimées selon une méthode
                        d'estimation donnée autre que par la méthode
                        règlementaire
                    n_places_mesure:
                      type: integer
                      description: Nombre de places recensées manuellement
                    methode_estime:
                      type: integer
                      description: >-
                        Méthode estimation: 1 manuel, 2: méthode
                        réglementaire 3: méthode réglementaire avec entrées
                        manuelles
                    cubf:
                      type: string
                      description: List des cubf inclus dans le rôle de ce lot
                    id_reg_stat:
                      type: string
                      description: Liste des règlements utilisés pour le calcul
                    id_er:
                      type: string
                      description: >-
                        Liste des ensembles de règlements utilisés pour le
                        calcul
                    commentaire:
                      type: string
                      description: Commentaire quelconque, souvent auto généré
                  required:
                    - g_no_lot
                    - n_places_min
                    - n_places_max
                    - n_places_estime
                    - n_places_mesure
                    - methode_estime
                    - cubf
                    - id_reg_stat
                    - id_er
                    - commentaire
            required:
              - success
              - data
          example:
            success: true
            data:
              - g_no_lot: 1 905 608
                n_places_min: 12
                n_places_max: 24
                n_places_estime: null
                n_places_mesure: null
                methode_estime: 3
                cubf: '1000'
                id_reg_stat: '15'
                id_er: '1'
                commentaire: 'Unite: 1 Val:3, Unite:2 Val:15'
              - g_no_lot: 1 905 609
                n_places_min: 60.325
                n_places_max: null
                n_places_estime: null
                n_places_mesure: null
                methode_estime: 3
                cubf: '5611'
                id_reg_stat: '18'
                id_er: '1'
                commentaire: Unite:4 Val:2580.3
      headers: {}
    '500':
      description: ''
      content:
        application/json:
          schema:
            title: ''
            type: object
            properties:
              success:
                type: boolean
                description: 'Booléen '
              message:
                type: string
                description: Description de l'erreur
            required:
              - success
              - message
      headers: {}
  security: []